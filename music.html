<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Poster Shop | @thounny</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg">
      <a href="index.html" class="navbar-brand">
        <img src="images/logo.png" alt="y2k logo" class="logo" />
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a href="index.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="register.html" class="nav-link">Register</a>
          </li>
          <li class="nav-item">
            <a href="login.html" class="nav-link">Login</a>
          </li>
          <li class="nav-item">
            <a href="products.html" class="nav-link">Products</a>
          </li>
          <li class="nav-item">
            <a href="checkout.html" class="nav-link">Checkout</a>
          </li>
          <li class="nav-item">
            <span class="navbar-text" id="cart-count">Cart: 0</span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="music.html">Music</a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- Centered Webamp Player -->
    <div id="winamp-container"></div>

    <!-- FOOTER -->
    <footer class="text-center py-4">&copy; 2024 thounny</footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Webamp Initialization Script -->
    <script src="https://unpkg.com/webamp@1.5.0/built/webamp.bundle.min.js"></script>
    <script src="https://unpkg.com/butterchurn@2.6.7/lib/butterchurn.min.js"></script>
    <script src="https://unpkg.com/butterchurn-presets@2.4.7/lib/butterchurnPresets.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (Webamp.browserIsSupported()) {
          const webamp = new Webamp({
            // SONGS
            initialTracks: [
              {
                metaData: {
                  title: "Pandora (for Cindy)",
                  artist: "Cocteau Twins",
                },
                url: "/songs/Pandora (for Cindy).mp3", // Replace with actual path to your audio file
              },
              {
                metaData: {
                  title: "Never In Your Sun",
                  artist: "Stevie Wonder",
                },
                url: "/songs/Never In Your Sun.mp3",
              },
              {
                metaData: {
                  title: "Summer's Gone",
                  artist: "Honeydip",
                },
                url: "/songs/Honeydip - Summer's Gone.mp3",
              },
              {
                metaData: {
                  title: "Victor, Fly Me to Stafford",
                  artist: "My Little Airport",
                },
                url: "/songs/My Little Airport - Victor, Fly Me to Stafford [HQ].mp3",
              },
            ],
            // Initial skin
            initialSkin: {
              url: "./webamp-skins/Nat-Amp_v01.wsz",
            },
            // Available skins for the skin menu
            availableSkins: [
              { url: "./webamp-skins/Nat-Amp_v01.wsz", name: "Nat Amp" },
              { url: "./webamp-skins/X_-_Hinoto.wsz", name: "X Hinoto" },
              {
                url: "./webamp-skins/Serial Experiments Lain - You Don't Understand.wsz",
                name: "Serial Experiments Lain",
              },
              { url: "./webamp-skins/Love_Hina_v1_9.wsz", name: "Love Hina" },
            ],
            // Enable Milkdrop visualizer
            __butterchurnOptions: {
              importButterchurn: () => Promise.resolve(window.butterchurn),
              getPresets: () => {
                const presets = window.butterchurnPresets.getPresets();
                return Object.keys(presets).map((name) => {
                  return {
                    name,
                    butterchurnPresetObject: presets[name],
                  };
                });
              },
              butterchurnOpen: true, // Open the visualizer by default
            },
            windowLayout: {
              main: { position: { top: 0, left: 0 } },
              equalizer: { position: { top: 116, left: 0 } },
              playlist: {
                position: { top: 232, left: 0 },
                size: { extraWidth: 0, extraHeight: 4 },
              },
              milkdrop: {
                position: { top: 0, left: 275 }, // Position of the visualizer
                size: { extraHeight: 12, extraWidth: 7 },
              },
            },
          });

          // Render Webamp and set volume
          webamp
            .renderWhenReady(document.getElementById("winamp-container"))
            .then(() => {
              webamp.setVolume(10); // Set initial volume to 25%
              console.log("Webamp is ready!");
            });

          // You can still include the track change and skin switch logic here if needed
        } else {
          alert("Your browser does not support Webamp.");
        }
      });
    </script>
  </body>
</html>
